(function(e,s){typeof exports=="object"&&typeof module<"u"?s(require("vue")):typeof define=="function"&&define.amd?define(["vue"],s):(e=typeof globalThis<"u"?globalThis:e||self,s(e.Vue))})(this,function(e){"use strict";function s(a,l){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M13.836 2.477a.75.75 0 0 1 .75.75v3.182a.75.75 0 0 1-.75.75h-3.182a.75.75 0 0 1 0-1.5h1.37l-.84-.841a4.5 4.5 0 0 0-7.08.932.75.75 0 0 1-1.3-.75 6 6 0 0 1 9.44-1.242l.842.84V3.227a.75.75 0 0 1 .75-.75Zm-.911 7.5A.75.75 0 0 1 13.199 11a6 6 0 0 1-9.44 1.241l-.84-.84v1.371a.75.75 0 0 1-1.5 0V9.591a.75.75 0 0 1 .75-.75H5.35a.75.75 0 0 1 0 1.5H3.98l.841.841a4.5 4.5 0 0 0 7.08-.932.75.75 0 0 1 1.025-.273Z","clip-rule":"evenodd"})])}function g(a,l){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M15 8A7 7 0 1 0 1 8a7 7 0 0 0 14 0ZM4.75 7.25a.75.75 0 0 0 0 1.5h4.69L8.22 9.97a.75.75 0 1 0 1.06 1.06l2.5-2.5a.75.75 0 0 0 0-1.06l-2.5-2.5a.75.75 0 0 0-1.06 1.06l1.22 1.22H4.75Z","clip-rule":"evenodd"})])}function _(a,l){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.844-8.791a.75.75 0 0 0-1.188-.918l-3.7 4.79-1.649-1.833a.75.75 0 1 0-1.114 1.004l2.25 2.5a.75.75 0 0 0 1.15-.043l4.25-5.5Z","clip-rule":"evenodd"})])}function f(a,l){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM5.5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm6 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z","clip-rule":"evenodd"})])}function c(a,l){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z","clip-rule":"evenodd"})])}function h(a,l){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm2.78-4.22a.75.75 0 0 1-1.06 0L8 9.06l-1.72 1.72a.75.75 0 1 1-1.06-1.06L6.94 8 5.22 6.28a.75.75 0 0 1 1.06-1.06L8 6.94l1.72-1.72a.75.75 0 1 1 1.06 1.06L9.06 8l1.72 1.72a.75.75 0 0 1 0 1.06Z","clip-rule":"evenodd"})])}const y={class:"nova-health"},E={class:"flex items-center justify-between mb-3"},B={class:"text-xl"},x={key:0,class:"text-sm text-gray-400 ml-4"},w=["disabled","loading"],k={key:0,class:"grid md:grid-cols-12 gap-6"},N={class:"md:col-span-4 h-full p-6 flex items-start relative overflow-hidden bg-white dark:bg-gray-800 rounded-lg shadow md:col-span-4"},V={class:"text-lg"},b={class:"text-sm mt-2"},S={key:0,class:"mt-3 grid gap-1"},D={class:"flex flex-wrap items-center"},C={class:"inline-block font-bold text-gray-500 mr-1"},M={key:1,class:"mt-3 grid gap-1 text-gray-400"},Z={class:"font-bold text-gray-500"},u={class:"font-bold text-gray-500"},L={class:"font-bold text-gray-500"},A={key:2,class:"mt-3 grid gap-1"},T={class:"font-bold text-gray-500 mr-1"},j={key:3,class:"mt-3 grid gap-1"},z={key:0},H={class:"font-bold"},$={class:"ml-1"},F={key:1},W={class:"font-bold"},O={class:"ml-1"},I={key:2},P={class:"font-bold"},q={class:"ml-1"},R={class:"font-bold ml-1"},Y=e.defineComponent({__name:"Tool",props:{card:{}},setup(a){const l=e.ref(!1),i=e.ref([]),d=e.ref(null);async function m(){l.value=!0,await fetch("/nova-vendor/stepanenko3/nova-health").then(o=>o.json()).then(o=>{i.value=o.checkResults;const n=new Date(o.finishedAt*1e3),t=("0"+n.getDate()).slice(-2)+"/"+("0"+(n.getMonth()+1)).slice(-2)+"/"+n.getFullYear()+" "+("0"+n.getHours()).slice(-2)+":"+("0"+n.getMinutes()).slice(-2);d.value=t}).catch(o=>{console.error("Error fetching health:",o)}),l.value=!1}e.onMounted(()=>{m()});function p(o,n){return n.hasOwnProperty(o)?n[o]:n.default}return(o,n)=>(e.openBlock(),e.createElementBlock("div",y,[e.createElementVNode("div",E,[e.createElementVNode("span",B,e.toDisplayString(o.__("Health")),1),d.value?(e.openBlock(),e.createElementBlock("span",x,e.toDisplayString(d.value),1)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"ml-auto shadow-lg bg-white dark:bg-gray-800 cursor-pointer w-8 h-8 flex items-center justify-center rounded-lg hover:opacity-75 transition",disabled:l.value,loading:l.value,onClick:m},[e.createVNode(e.unref(s),{class:"w-4 h-4"})],8,w)]),e.createElementVNode("div",{class:e.normalizeClass(["absolute flex items-center justify-center inset-0 bg-white/50 dark:bg-gray-900/80 z-20",{"opacity-0  pointer-events-none":!l.value,"relative min-h-[200px] bg-transparent":i.value.length<=0}])},n[0]||(n[0]=[e.createElementVNode("div",{class:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] text-primary-500 motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status"},null,-1)]),2),i.value.length?(e.openBlock(),e.createElementBlock("div",k,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,t=>(e.openBlock(),e.createElementBlock("div",N,[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(p(t.status,{ok:e.unref(_),warning:e.unref(c),skipped:e.unref(g),failed:e.unref(h),crashed:e.unref(c),default:e.unref(f)})),{width:"30",height:"30",class:e.normalizeClass(["mr-4 w-7 h-7 flex-shrink-0",p(t.status,{ok:"text-green-500",warning:"text-yellow-500",skipped:"text-blue-500",failed:"text-red-500",crashed:"text-red-500",default:"text-gray-500"})])},null,8,["class"])),e.createElementVNode("div",null,[e.createElementVNode("div",V,e.toDisplayString(t.label),1),e.createElementVNode("div",b,e.toDisplayString(t.notificationMessage||t.shortSummary),1),t.name.startsWith("OutdatedPackages")&&t?.meta?.outdated?(e.openBlock(),e.createElementBlock("div",S,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.meta.outdated,r=>(e.openBlock(),e.createElementBlock("div",D,[e.createElementVNode("span",C,e.toDisplayString(r.name),1),e.createElementVNode("span",null,e.toDisplayString(r.version)+" -> "+e.toDisplayString(r.latest),1)]))),256))])):t.name.startsWith("CpuLoad")?(e.openBlock(),e.createElementBlock("div",M,[e.createElementVNode("div",null,[n[1]||(n[1]=e.createTextVNode(" Last minute: ")),e.createElementVNode("span",Z,e.toDisplayString(t.meta.last_minute)+"%",1)]),e.createElementVNode("div",null,[n[2]||(n[2]=e.createTextVNode(" Last 5 minutes: ")),e.createElementVNode("span",u,e.toDisplayString(t.meta.last_5_minutes)+"%",1)]),e.createElementVNode("div",null,[n[3]||(n[3]=e.createTextVNode(" Last 15 minutes: ")),e.createElementVNode("span",L,e.toDisplayString(t.meta.last_15_minutes)+"%",1)])])):t.name.startsWith("DatabaseTableSize")?(e.openBlock(),e.createElementBlock("div",A,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.values(t.meta),r=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",null,[e.createElementVNode("span",T,e.toDisplayString(r.name),1),e.createElementVNode("span",null," used "+e.toDisplayString(r.actualSize)+" of "+e.toDisplayString(r.maxSize),1)])]))),256))])):t.name.startsWith("Ssl")?(e.openBlock(),e.createElementBlock("div",j,[t?.meta?.domain?(e.openBlock(),e.createElementBlock("div",z,[e.createElementVNode("span",H,e.toDisplayString(o.__("Domain"))+": ",1),e.createElementVNode("span",$,e.toDisplayString(t.meta.domain),1)])):e.createCommentVNode("",!0),t?.meta?.issuer?(e.openBlock(),e.createElementBlock("div",F,[e.createElementVNode("span",W,e.toDisplayString(o.__("Issuer"))+": ",1),e.createElementVNode("span",O,e.toDisplayString(t.meta.issuer),1)])):e.createCommentVNode("",!0),t?.meta?.expiration_date?(e.openBlock(),e.createElementBlock("div",I,[e.createElementVNode("span",P,e.toDisplayString(o.__("Expiration"))+": ",1),e.createElementVNode("span",q,e.toDisplayString(t.meta.expiration_date),1),e.createElementVNode("span",R," ("+e.toDisplayString(Math.abs(parseInt(t.meta.expiration_date_in_days)))+" "+e.toDisplayString(o.__("days"))+") ",1)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])]))),256))])):e.createCommentVNode("",!0)]))}});Nova.booting((a,l)=>{Nova.inertia("NovaHealth",Y)})});
